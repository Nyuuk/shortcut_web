import{r as c,j as e,y as v}from"./app-51a4d728.js";import{a as S}from"./ConvertToWib-9b60ea4e.js";import{b as t,D as g,M as p,B as m}from"./Toast-3a17b069.js";import{H}from"./index-1bed09f8.js";/* empty css            */import"./dayjs.min-322c0437.js";const R=({columns:d,data:x})=>{const b={root:{base:"w-full text-left text-sm text-gray-500 dark:text-gray-400",shadow:"absolute bg-white dark:bg-black w-full h-full top-0 left-0 rounded-lg drop-shadow-md -z-10",wrapper:"relative"},body:{base:"group/body",cell:{base:"group-first/body:group-first/row:first:rounded-tl-lg group-first/body:group-first/row:last:rounded-tr-lg group-last/body:group-last/row:first:rounded-bl-lg group-last/body:group-last/row:last:rounded-br-lg px-6 py-4"}},head:{base:"group/head text-xs uppercase text-gray-700 dark:text-gray-400",cell:{base:"group-first/head:first:rounded-tl-lg group-first/head:last:rounded-tr-lg bg-gray-50 dark:bg-gray-700 px-6 py-3"}},row:{base:"group/row",hovered:"hover:bg-gray-50 dark:hover:bg-gray-600",striped:"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700"}},[h,y]=c.useState(0),[o,j]=c.useState(null),[w,n]=c.useState(!1);c.useEffect(()=>{(()=>{const s=window.innerHeight,l=window.innerWidth<=768,u=s-175;let i=Math.floor(u/42)-1;l&&(i=Math.max(0,i-2)),y(i)})()},[]);const k=async()=>{if(n(!1),o===null)return;const r=o;j(null);try{const s=await axios.delete(route("dashboard.api.delete-request",{id:r}));(s.status=200)?addNotif({title:"Data has been deleted successfully",success:!0}):addNotif({title:"Failed to delete data",success:!1})}catch(s){console.error(s),addNotif({title:"Failed to delete data",success:!1})}},C=r=>{n(!0),j(r)},N=r=>{v.visit(route("dashboard.edit-member",{id:r}),{method:"get"})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:d.length===0?e.jsx("div",{className:"flex justify-center items-center text-3xl w-full h-full drop",children:"Tidak ada data"}):e.jsxs(t,{hoverable:!0,theme:b,children:[e.jsxs(t.Head,{children:[e.jsx(t.HeadCell,{children:"No."}),d.map((r,s)=>e.jsx(t.HeadCell,{children:r.name},s)),e.jsx(t.HeadCell,{children:e.jsx("span",{className:"sr-only",children:"Edit"})})]}),e.jsx(t.Body,{className:"divide-y",children:x.map((r,s)=>e.jsxs(t.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(t.Cell,{children:s+1}),d.map((a,l)=>l===0?e.jsx(t.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:r[a.uniq_name]},l):(a==null?void 0:a.type)==="date"?e.jsx(t.Cell,{children:S(r[a.uniq_name])},l):(a==null?void 0:a.type)==="list"?e.jsx(t.Cell,{className:"",children:e.jsx("div",{className:"flex flex-row flex-wrap gap-1 h-full",children:r[a.uniq_name].map((u,i)=>e.jsx("div",{className:"bg-teal-600 text-gray-100 dark:bg-teal-600 text-[10px] py-[2px] px-2 rounded-xl uppercase",children:u},i))})},l):(a==null?void 0:a.type)==="link"?e.jsx(t.Cell,{children:e.jsxs("a",{href:"https://wa.me/62"+r[a.uniq_name],className:"font-medium text-cyan-600 hover:underline dark:text-cyan-500",children:["0",r[a.uniq_name]]})},l):e.jsx(t.Cell,{children:r[a.uniq_name]},l)),e.jsx(t.Cell,{children:e.jsxs(g,{label:"Action",placement:"left-start",children:[e.jsx(g.Item,{onClick:()=>N(r.id),children:"Edit"}),e.jsx(g.Item,{onClick:()=>C(r.id),children:"Delete"})]})})]},s))||e.jsx(q,{totalRow:h,columnTotal:d.length})})]})}),e.jsxs(p,{show:w,size:"md",onClose:()=>n(!1),popup:!0,children:[e.jsx(p.Header,{}),e.jsx(p.Body,{children:e.jsxs("div",{className:"text-center",children:[e.jsx(H,{className:"mx-auto mb-4 h-14 w-14 text-gray-400 dark:text-gray-200"}),e.jsxs("h3",{className:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400",children:["Are you sure you want to delete this member with id [",o,"] ?"]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(m,{color:"failure",onClick:k,disabled:o===null,children:"Yes, I'm sure"}),e.jsx(m,{color:"gray",onClick:()=>n(!1),children:"No, cancel"})]})]})})]})]})},f=()=>e.jsx("div",{role:"status",className:"max-w-sm animate-pulse",children:e.jsx("div",{className:"h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-full"})}),q=({totalRow:d,columnTotal:x})=>[...Array(d)].map((b,h)=>e.jsxs(t.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[[...Array(x)].map((y,o)=>e.jsx(t.Cell,{children:e.jsx(f,{className:"w-full"})},o)),e.jsx(t.Cell,{children:e.jsx(f,{})}),e.jsx(t.Cell,{children:e.jsx(f,{})})]},h));export{R as TableWithSearch};
